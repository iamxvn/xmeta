<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Chuyển hướng ROT13</title>
    <script>
        function rot13(str) {
            return str.replace(/[a-zA-Z]/g, function(c) {
                return String.fromCharCode(
                    c.charCodeAt(0) + (c.toLowerCase() < 'n' ? 13 : -13)
                );
            });
        }

        function cleanUrl(url) {
            return url.trim().replace(/\s+/g, '').replace(/[^a-zA-Z0-9:/.]/g, '');
        }

        function decodeAndRedirect() {
            const params = new URLSearchParams(window.location.search);
            let encodedUrl = params.get("url");

            if (encodedUrl) {
                try {
                    let decodedUrl = rot13(encodedUrl);
                    decodedUrl = cleanUrl(decodedUrl);

                    if (decodedUrl.startsWith("http://") || decodedUrl.startsWith("https://")) {
                        window.location.href = decodedUrl;
                    }
                } catch (error) {
                    // Không hiển thị lỗi, chỉ im lặng thất bại
                }
            }
            // Nếu không có url hoặc lỗi, không làm gì cả
        }

        window.onload = decodeAndRedirect;
    </script>
</head>
<body>
    <!-- Không hiển thị bất kỳ nội dung nào -->
</body>
</html>
